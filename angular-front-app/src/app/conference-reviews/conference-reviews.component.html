<div class="card shadow-sm">
  <div class="card-header bg-dark text-white">
    <h5 class="mb-0">Reviews for Conference #{{ conferenceId }}</h5>
  </div>

  <div class="card-body">

    <!-- Add review -->
    <form (ngSubmit)="addReview()" class="mb-3">
      <div class="row mb-2">
        <div class="col-4">
          <label class="form-label">Date</label>
          <input type="date" class="form-control"
                 [(ngModel)]="newReview.date" name="reviewDate">
        </div>
        <div class="col-4">
          <label class="form-label">Stars</label>
          <select class="form-select"
                  [(ngModel)]="newReview.stars" name="reviewStars">
            <option *ngFor="let s of [1,2,3,4,5]" [value]="s">{{ s }}</option>
          </select>
        </div>
      </div>

      <div class="mb-2">
        <label class="form-label">Text</label>
        <textarea class="form-control" rows="3"
                  [(ngModel)]="newReview.text" name="reviewText"></textarea>
      </div>

      <button type="submit" class="btn btn-sm btn-success">
        Add Review
      </button>
    </form>

    <!-- Reviews table -->
    <table class="table table-striped table-bordered" *ngIf="reviews && reviews.length > 0; else noReviews">
      <thead class="table-secondary">
      <tr>
        <th>ID</th>
        <th>Date</th>
        <th>Stars</th>
        <th>Text</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let r of reviews">
        <td>{{ r.id }}</td>
        <td>{{ r.date | date:'yyyy-MM-dd' }}</td>
        <td>{{ r.stars }}</td>
        <td>{{ r.text }}</td>
      </tr>
      </tbody>
    </table>

    <ng-template #noReviews>
      <p class="text-muted mb-0">No reviews for this conference.</p>
    </ng-template>
  </div>
</div>
